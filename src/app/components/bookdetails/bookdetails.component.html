<div class='card'>
    <div class='card-header bg-primary text-white'>
        {{pageTitle + ' : ' + book?.bookTitle}}
    </div>

    <div class='card-body' *ngIf='book && !modification'>
        <div class='row'>
            <div class='col-sm-4'>
                <div class='row'>
                    <div class='col-md-4'>Titre:</div>
                    <div class='col-md-8'>{{book.bookTitle}}</div>
                </div>
                <div class='row'>
                    <div class='col-md-4'>Auteur:</div>
                    <div class='col-md-8'>{{book.bookAuthor}}</div>
                </div>
                <div class='row'>
                    <div class='col-md-4'>Prix:</div>
                    <div class='col-md-8'>{{book.bookPrice}}</div>
                </div>
            </div>
            <div class='col-sm-8'>
                <img *ngIf='book.bookImage' class='center-block img-responsive' [style.width.px]='100'
                    [src]='book.bookImage' [alt]='book.bookTitle'>
                <p *ngIf="!book.bookImage">Aucune image disponible</p>
            </div>
        </div>
    </div>

    <div class='card-body' *ngIf='book && modification'>
        <form [formGroup]="bookForm" (ngSubmit)="saveBook(bookForm.value)"
        autocomplete="off" novalidate>
            <div class="form-group" [ngClass]="{'error': nonvalidateFormControl(bookForm.controls['bookTitle'])}">
                <label for="bookTitleInput">Titre :</label>
                <em *ngIf="nonvalidateFormControl(bookForm.controls['bookTitle'])">Required</em>
                <input formControlName="bookTitle" id="bookTitleInput" type="text" class="form-control" placeholder="{{book.bookTitle}}"/>
            </div>
            <div class="form-group" [ngClass]="{'error': nonvalidateFormControl(bookForm.controls['bookAuthor'])}">
                <label for="bookAuthorInput">Auteur:</label>
                <em *ngIf="nonvalidateFormControl(bookForm.controls['bookAuthor'])">Required</em>
                <input formControlName="bookAuthor" id="bookAuthorInput" type="text" class="form-control" placeholder="{{book.bookAuthor}}"/>
            </div>
            <div class="form-group" [ngClass]="{'error': nonvalidateFormControl(bookForm.controls['bookPrice'])}">
                <label for="bookPriceInput">Prix:</label>
                <em *ngIf="nonvalidateFormControl(bookForm.controls['bookPrice'])">Required</em>
                <input formControlName="bookPrice" id="bookPriceInput" type="number" class="form-control" placeholder="{{book.bookPrice}}"/>
            </div>
            <div class="col-md-6" style="margin-top: 1ex;">
                <button class="btn btn-primary" type="submit">Modifier le Livre</button>
                <button class="btn btn-outline-secondary" (click)="cacherModification()" type="button">Annuler</button>
            </div>
        </form>
    </div>

    <div class='card-footer'>
        <button [disabled]="modification" class='btn btn-outline-secondary' style='width: 80px' (click)='onBack()'>
            <i class='fa fa-chevron-left'></i>Back
        </button>
        <button class='btn btn-outline-secondary' style='width: 80px' [disabled]="modification" (click)="enableModification()">Editer</button>
    </div>
</div>